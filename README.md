# Sweet Shop Management System

A full-stack Single Page Application (SPA) designed to manage a boutique sweet shop's inventory, sales, and administration. This project demonstrates modern development practices including **Test-Driven Development (TDD)**, **JWT Authentication**, and **AI-Assisted Development**.

## ðŸ“‹ Table of Contents
- [Objective](#objective)
- [Tech Stack](#-tech-stack)
- [Features](#-features)
- [My AI Usage (Mandatory)](#-my-ai-usage-mandatory)
- [Getting Started](#-getting-started)
- [Running Tests (TDD)](#-running-tests-tdd)
- [API Documentation](#-api-endpoints)
- [Screenshots](#-screenshots)

## Objective
The goal of this project is to build a robust system where users can browse and purchase sweets, while administrators manage stock levels, add new products, and oversee the inventory using a secure, responsive interface.

## ðŸ›  Tech Stack

### Backend
*   **Language:** Java 17+
*   **Framework:** Spring Boot 3.4
*   **Security:** Spring Security & JWT (JSON Web Tokens)
*   **Database:** H2 Database (File-based persistence for easy local setup)
*   **Testing:** JUnit 5, Mockito
*   **Tools:** Maven, Lombok

### Frontend
*   **Framework:** React (Vite)
*   **Styling:** Tailwind CSS (Glassmorphism Design)
*   **HTTP Client:** Axios
*   **Icons:** Lucide React

---

## âœ¨ Features
*   **User Authentication:** Secure Registration and Login with JWT.
*   **Role-Based Access Control:**
    *   **Users:** Can browse, search, and purchase sweets.
    *   **Admins:** Can add new sweets, restock inventory, and delete items.
*   **Inventory Management:** Real-time stock updates upon purchase.
*   **Search & Filter:** Find sweets by name, category, or price.
*   **Responsive UI:** Modern, colorful interface using Tailwind CSS.

---

## ðŸ¤– My AI Usage (Mandatory)

Per the assignment guidelines, I utilized AI tools to assist in the development lifecycle. Below is the transparency report:

### 1. Which AI tools I used
*   **ChatGPT (Model: GPT-4o)**
*   **GitHub Copilot** (Optional: Remove if not used)

### 2. How I used them
*   **TDD & Testing:** I used ChatGPT to brainstorm edge cases for the `purchaseSweet` method (e.g., handling zero or negative stock) and to generate the initial Mockito boilerplate for the `SweetServiceTest` class. This allowed me to strictly follow the **Red-Green-Refactor** pattern by having the test written before the implementation.
*   **Frontend Design:** I described the desired "Glassmorphism" look to the AI, which generated the complex Tailwind CSS classes (e.g., `backdrop-blur-md`, `bg-white/80`, `bg-gradient-to-br`) to achieve the visual style without writing custom CSS.
*   **Debugging:** When encountering CORS issues between Vite (port 5173) and Spring Boot (port 8080), I used AI to identify the correct `CorsConfigurationSource` implementation in Spring Security 6.
*   **Boilerplate:** Generated standard JPA Entities and Repository interfaces to speed up the initial setup.

### 3. Reflection
AI acted as a "force multiplier," specifically in the **Green** phase of TDD. It allowed me to focus on the high-level business logic rather than getting stuck on syntax or configuration boilerplate. However, I found it crucial to manually review the security configurations generated by AI to ensure the H2 console was accessible and that role-based permissions were applied correctly.

---

## ðŸš€ Getting Started

Follow these instructions to run the project locally.

### Prerequisites
*   Java JDK 17 or higher
*   Node.js & npm
*   Maven

### 1. Backend Setup
1.  Navigate to the backend directory:
    ```bash
    cd backend
    ```
2.  Install dependencies and build:
    ```bash
    mvn clean install
    ```
3.  Run the application:
    ```bash
    mvn spring-boot:run
    ```
4.  The server will start at `http://localhost:8080`.

**Database Credentials (H2 Console):**
*   **URL:** `http://localhost:8080/h2-console`
*   **JDBC URL:** `jdbc:h2:file:./data/sweetshopdb`
*   **Username:** `sa`
*   **Password:** `password`

### 2. Frontend Setup
1.  Open a new terminal and navigate to the frontend directory:
    ```bash
    cd frontend
    ```
2.  Install dependencies:
    ```bash
    npm install
    ```
3.  Run the development server:
    ```bash
    npm run dev
    ```
4.  Open your browser and visit `http://localhost:5173`.

---

## ðŸ§ª Running Tests (TDD)

The backend follows the **Red-Green-Refactor** pattern. To run the test suite and verify the business logic:

```bash
cd backend
mvn test
```

Check the console output for a detailed test report showing passed test cases for `SweetService` logic.

---

## ðŸ”Œ API Endpoints

| Method | Endpoint | Access | Description |
| :--- | :--- | :--- | :--- |
| **POST** | `/api/auth/register` | Public | Register a new user |
| **POST** | `/api/auth/login` | Public | Login and receive JWT |
| **GET** | `/api/sweets` | Auth | Get all sweets |
| **GET** | `/api/sweets/search` | Auth | Search by name/price |
| **POST** | `/api/sweets` | Admin | Add a new sweet |
| **POST** | `/api/sweets/{id}/purchase` | Auth | Buy a sweet (decreases qty) |
| **POST** | `/api/sweets/{id}/restock` | Admin | Increase stock quantity |
| **DELETE**| `/api/sweets/{id}` | Admin | Delete a sweet |

---

## ðŸ“¸ Screenshots

### Login Page
<img width="1911" height="977" alt="Screenshot 2025-12-14 152014" src="https://github.com/user-attachments/assets/3401955d-bb62-4bac-b56b-aba7a889bf29" />


### Dashboard (User View)
<img width="1919" height="980" alt="Screenshot 2025-12-14 152006" src="https://github.com/user-attachments/assets/20098d12-b333-4171-9d38-147acbc76d57" />


---

**Author:** Nishant Rathore
